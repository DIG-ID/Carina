<?php

/**
 * This function open the main content.
 */
function theme_before_main_content() {
	?>
	<main id="main-content" class="main-content overflow-hidden mt-auto">
	<?php
}

add_action( 'before_main_content', 'theme_before_main_content' );

/**
 * This function closes the main content.
 */
function theme_after_main_content() {
	?>
	</main><!-- #main-content-->
	<?php
}

add_action( 'after_main_content', 'theme_after_main_content' );

/**
 * This function open the post content.
 */
function theme_before_post_content() {
	?>
	<article id="post-<?php the_ID(); ?>" <?php post_class(); ?>>
	<?php
}

add_action( 'before_post_content', 'theme_before_post_content' );

/**
 * This function closes the post content.
 */
function theme_after_post_content() {
	?>
	</article><!-- #article -->
	<?php
}

add_action( 'after_post_content', 'theme_after_post_content' );

/**
 * This function gest the rooms features.
 */
function theme_room_features() {
	if ( have_rows( 'features' ) ) :
		echo '<ul class="features">';
		while ( have_rows( 'features' ) ) :
			the_row();
			?>
			<li id="feature-item">
				<?php
				$fields = [
					'bed'      => __( 'Bett:', 'carina' ),
					'size'     => __( 'FlÃ¤che:', 'carina' ),
					'capacity' => __( 'Belegung:', 'carina' ),
					'view'     => __( 'Aussicht:', 'carina' ),
				];
				foreach ( $fields as $field_key => $label ) :
					$field_value = get_sub_field( $field_key );
					if ( $field_value ) :
						?>
						<p class="font-poppins font-normal text-sm text-blue-shade-5 tracking-[0.14px]">
							<span class="font-bold"><?php echo $label; ?></span> <?php echo esc_html( $field_value ); ?>
						</p>
						<?php
					endif;
				endforeach;
				?>
			</li>
			<?php
		endwhile;
		echo '</ul>';
	endif;
}

add_action( 'room_features', 'theme_room_features' );

/**
 * This theme logo.
 */
function theme_logo() {
	?>
	<svg xmlns="http://www.w3.org/2000/svg" width="162" height="43" viewBox="0 0 162 43" fill="none" xml:space="preserve" class="w-28 md:w-56">
		<path d="M126.219 41.9649V23.4227C126.219 17.0141 122.476 13.0452 116.466 13.0452C110.456 13.0452 107.223 16.8456 106.034 22.5706V13.6122H99.3983V41.9649H106.034V26.0892C106.487 19.7389 109.436 15.0312 114.03 15.0312C117.432 15.0312 119.645 17.2992 119.645 21.78V41.9681H126.222L126.219 41.9649ZM95.3743 3.85993C95.3743 1.76044 93.8418 0.00439453 91.4604 0.00439453C89.0791 0.00439453 87.6049 1.76368 87.6049 3.85993C87.6049 5.95617 89.1374 7.71546 91.4604 7.71546C93.7835 7.71546 95.3743 5.95617 95.3743 3.85993ZM85.3985 13.732C80.0331 14.3897 77.2338 18.1222 76.1549 23.1538V13.6122H69.5195V41.9649H76.1549V28.882C76.1549 21.5403 78.5363 15.2192 85.3985 14.312V13.732ZM94.8073 13.6122H88.1719V41.9649H94.8073V13.6122Z" fill="#F0F2F5"></path>
		<path d="M54.3796 12.8862C49.4192 12.8862 45.7451 14.6423 43.6975 17.9049L43.704 17.9146L44.1835 18.2321C45.9298 15.4231 48.8296 13.9068 52.2801 13.9068C57.6098 13.9068 59.7093 17.1403 59.7093 23.037V25.7585C47.5174 26.724 40.4316 30.126 40.4316 36.1361C40.4316 39.4829 42.6996 42.3729 47.5757 42.3729C51.5997 42.3729 55.533 40.6072 57.9111 36.6382V35.2418C56.3203 38.1254 53.9098 39.4797 51.658 39.4797C48.7097 39.4797 47.0638 37.7787 47.0638 34.8854C47.0638 29.8376 51.8848 26.9476 59.7093 26.2089V27.061C59.7093 27.871 59.7093 31.1109 59.7093 31.1109L60.8951 33.3691L65.7226 42.5317H66.2896V25.0198C66.2896 17.0236 61.8671 12.8862 54.3828 12.8862" fill="#F0F2F5"></path><path d="M142.534 12.8862C137.574 12.8862 133.899 14.6423 131.852 17.9049L131.858 17.9146L132.338 18.2321C134.084 15.4231 136.984 13.9068 140.434 13.9068C145.764 13.9068 147.864 17.1403 147.864 23.037V25.7585C135.672 26.724 128.586 30.126 128.586 36.1361C128.586 39.4829 130.854 42.3729 135.73 42.3729C139.754 42.3729 143.687 40.6072 146.065 36.6382V35.2418C144.475 38.1254 142.064 39.4797 139.812 39.4797C136.864 39.4797 135.218 37.7787 135.218 34.8854C135.218 29.8376 140.039 26.9476 147.864 26.2089V27.061C147.864 27.871 147.864 31.1109 147.864 31.1109L149.049 33.3691L153.877 42.5317H154.444V25.0198C154.444 17.0236 150.021 12.8862 142.537 12.8862" fill="#F0F2F5"></path><path d="M21.7173 42.5323C30.7892 42.5323 38.2929 37.4844 39.4269 25.5226H38.8599C37.781 36.6939 31.0743 41.3432 23.6451 41.3432C14.1747 41.3432 7.76938 33.347 7.76938 21.8387C7.76938 10.3305 14.0192 2.78788 23.4896 2.78788C31.0872 2.78788 38.4646 8.68458 38.8631 19.5708H39.4301C39.0899 8.23099 31.7126 1.70898 21.4484 1.70898C9.25651 1.70898 0 10.554 0 22.1789C0 34.8795 10.4326 42.5355 21.7173 42.5355" fill="#F0F2F5"></path>
		<path d="M158.154 7.18398C156.317 7.18398 154.827 5.6936 154.827 3.85656C154.827 2.01951 156.317 0.529134 158.154 0.529134C159.991 0.529134 161.482 2.01951 161.482 3.85656C161.482 5.6936 159.991 7.18398 158.154 7.18398ZM158.154 0.0107422C156.032 0.0107422 154.309 1.73115 154.309 3.85656C154.309 5.98196 156.029 7.70237 158.154 7.70237C160.28 7.70237 162 5.98196 162 3.85656C162 1.73115 160.28 0.0107422 158.154 0.0107422Z" fill="#F0F2F5"></path><path d="M157.412 5.56728L159.722 2.19774V1.81543H156.761V2.31762H158.99L156.689 5.6742V6.06948H159.813V5.56728H157.412Z" fill="#F0F2F5"></path>
	</svg>
	<?php
}

add_action( 'theme_logo', 'theme_logo' );

/**
 * This theme logo for mobile.
 */
function theme_logo_mobile() {
	?>
	<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="418.7" height="499.1" fill="#0cc" viewBox="0 0 418.7 499.1"><path d="m178.1.1-34.4 206.6H95.2l2.2-13.7c-11.5 11.5-25.8 17.9-42.6 17.9-36.1 0-61.3-29.1-53.5-76.7 7-42.5 38.4-68.9 71.4-68.9 21.6 0 35.8 9.8 43.4 21.6L129.5.1h48.6zm-73.6 153.7 5.6-31.9c-4.8-10.4-13.4-15.1-24.6-15.1-16.8 0-31.4 11.2-34.7 31.6-3.1 17.1 3.4 30.8 22.4 30.8 11.4 0 22.6-5.1 31.3-15.4zM217.3 206.9h-48.4L193 69.7h48.4l-24.1 137.2zM197.1 23.5C199.4 10.4 211.7 0 226 0c17.9 0 29.4 14 26.3 31.1-2.5 13.4-14.8 23.8-29.1 23.8-17.7 0-29.2-14-26.1-31.4zM418.7 69.7l-22.4 127.4c-8.4 47.3-38.9 70-90.1 70-26.3 0-46.8-6.2-62.2-13.1l16.5-38.6c13.2 8.4 29.7 10.9 41.7 10.9 26.9 0 42.5-12.6 46.2-33l.6-3.6c-11.8 11.5-26 18.2-42.8 18.2-36.4 0-61.9-29.1-53.5-75 7-40.9 38.4-67.2 71.4-67.2 20.7 0 35.3 9.2 43.1 21.3l3.1-17.1h48.4zm-63.2 82.6 5.6-30.5c-4.5-10.1-13.7-14.8-24.6-14.8-17.1 0-30.5 10.9-34.4 28.8-3.1 15.1 2.8 30.2 23.2 30.2 10.6 0 21.5-4.2 30.2-13.7zM165.5 494.9h-48.4l24.1-137.2h48.4l-24.1 137.2zm-20.2-183.4c2.2-13.2 14.6-23.5 28.8-23.5 17.9 0 29.4 14 26.3 31.1-2.5 13.4-14.8 23.8-29.1 23.8-17.6 0-29.1-14-26-31.4zM377.3 298.9l-34.4 196h-48.4l2.2-13.7c-11.5 11.5-25.8 17.9-42.6 17.9-36.1 0-61.3-29.1-53.5-76.7 7-42.5 38.4-68.9 71.4-68.9 21.6 0 35.8 9.8 43.4 21.6l13.4-76.1h48.5zM303.7 442l5.6-31.9c-4.8-10.4-13.4-15.1-24.6-15.1-16.8 0-31.4 11.2-34.7 31.6-3.1 17.1 3.4 30.8 22.4 30.8 11.4 0 22.6-5.1 31.3-15.4zM36.3 494.9l10-54.9h55.3l-9.7 54.9z"></path></svg>
	<?php
}

add_action( 'theme_logo_mobile', 'theme_logo_mobile' );

/**
 * Implement and customize Yoast Breadcrumbs.
 */
function theme_breadcrumbs() {
	if ( function_exists( 'yoast_breadcrumb' ) ) :
		yoast_breadcrumb( '<p id="breadcrumbs">', '</p>' );
	endif;
}

add_action( 'breadcrumbs', 'theme_breadcrumbs' );


/**
 * Socials for the website.
 */
function theme_socials() {

	$socials = [
		'facebook' => [
			'url' => get_field( 'socials_facebook', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" width="34" height="38" viewBox="0 0 34 38" fill="none"><path d="M16.8 0.832275C7.5215 0.832275 0 8.98854 0 19.0501C0 29.1116 7.5215 37.2679 16.8 37.2679C26.0785 37.2679 33.6 29.1116 33.6 19.0501C33.6 8.98854 26.0785 0.832275 16.8 0.832275ZM20.7795 13.4215H18.2543C17.955 13.4215 17.6225 13.8485 17.6225 14.4159V16.3933H20.7813L20.3035 19.2133H17.6225V27.6789H14.6423V19.2133H11.9385V16.3933H14.6423V14.7347C14.6423 12.355 16.1648 10.4213 18.2543 10.4213H20.7795V13.4215Z" fill="#F4EFE8"/></svg>',
		],
		'twitter' => [
			'url' => get_field( 'socials_twitter', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" width="35" height="38" viewBox="0 0 35 38" fill="none"><path d="M17.3996 0.832275C8.12111 0.832275 0.599609 8.98854 0.599609 19.0501C0.599609 29.1116 8.12111 37.2679 17.3996 37.2679C26.6781 37.2679 34.1996 29.1116 34.1996 19.0501C34.1996 8.98854 26.6781 0.832275 17.3996 0.832275ZM24.2334 15.7557C24.2404 15.9113 24.2421 16.0669 24.2421 16.2187C24.2421 20.963 20.9154 26.4302 14.8289 26.4302C13.0304 26.4334 11.2693 25.8733 9.75736 24.8172C10.0146 24.8513 10.2789 24.8646 10.5466 24.8646C12.0971 24.8646 13.5234 24.2934 14.6556 23.3294C13.9656 23.3147 13.297 23.0669 12.7431 22.6206C12.1891 22.1743 11.7773 21.5517 11.5651 20.8396C12.0606 20.9418 12.5711 20.9204 13.0579 20.777C12.3089 20.6128 11.6355 20.1727 11.1516 19.5315C10.6677 18.8902 10.4033 18.0872 10.4031 17.2587V17.215C10.8494 17.4826 11.3604 17.6458 11.9029 17.6648C11.2008 17.1579 10.7037 16.3794 10.5134 15.4884C10.3231 14.5973 10.454 13.6611 10.8791 12.8712C11.7103 13.9795 12.7468 14.8861 13.9216 15.5324C15.0964 16.1786 16.3833 16.5502 17.6989 16.6229C17.5316 15.8531 17.6036 15.0448 17.9036 14.3239C18.2037 13.603 18.7149 13.0097 19.358 12.6364C20.001 12.2631 20.7398 12.1306 21.4594 12.2595C22.1791 12.3885 22.8393 12.7716 23.3374 13.3494C24.0779 13.1905 24.7881 12.896 25.4374 12.4784C25.1905 13.3098 24.6738 14.0158 23.9831 14.4653C24.6391 14.3796 25.2796 14.1884 25.8836 13.8979C25.44 14.6188 24.8811 15.2479 24.2334 15.7557Z" fill="#F4EFE8"/></svg>',
		],
		'instagram' => [
			'url' => get_field( 'socials_instagram', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" width="34" height="38" viewBox="0 0 34 38" fill="none"><path d="M22.2492 19.0501C22.2492 20.56 21.6961 22.008 20.7115 23.0757C19.727 24.1433 18.3916 24.7431 16.9992 24.7431C15.6068 24.7431 14.2715 24.1433 13.2869 23.0757C12.3023 22.008 11.7492 20.56 11.7492 19.0501C11.7492 18.7256 11.7807 18.4087 11.835 18.1012H9.99922V25.6863C9.99922 26.2139 10.393 26.6408 10.8795 26.6408H23.1207C23.3539 26.6403 23.5773 26.5395 23.742 26.3606C23.9067 26.1816 23.9992 25.9391 23.9992 25.6863V18.1012H22.1635C22.2177 18.4087 22.2492 18.7256 22.2492 19.0501ZM16.9992 22.8455C17.459 22.8453 17.9142 22.747 18.3389 22.5561C18.7636 22.3652 19.1495 22.0855 19.4745 21.7329C19.7995 21.3803 20.0572 20.9617 20.2331 20.501C20.4089 20.0404 20.4993 19.5467 20.4992 19.0482C20.4991 18.5496 20.4084 18.056 20.2324 17.5955C20.0564 17.1349 19.7984 16.7165 19.4732 16.3641C19.1481 16.0116 18.7621 15.7321 18.3373 15.5414C17.9125 15.3508 17.4572 15.2527 16.9975 15.2528C16.069 15.2531 15.1786 15.6533 14.5222 16.3654C13.8659 17.0775 13.4972 18.0432 13.4975 19.0501C13.4977 20.0569 13.8668 21.0224 14.5235 21.7342C15.1802 22.446 16.0707 22.8457 16.9992 22.8455ZM21.1992 15.0649H23.2975C23.4369 15.0649 23.5706 15.005 23.6693 14.8983C23.7681 14.7916 23.8238 14.6468 23.8242 14.4956V12.2203C23.8242 12.0688 23.7687 11.9235 23.6699 11.8164C23.5712 11.7093 23.4372 11.6491 23.2975 11.6491H21.1992C21.0595 11.6491 20.9255 11.7093 20.8268 11.8164C20.728 11.9235 20.6725 12.0688 20.6725 12.2203V14.4956C20.6742 14.8087 20.9105 15.0649 21.1992 15.0649ZM16.9992 0.832275C12.5436 0.832275 8.27044 2.75165 5.11983 6.16815C1.96921 9.58465 0.199219 14.2184 0.199219 19.0501C0.199219 23.8817 1.96921 28.5155 5.11983 31.932C8.27044 35.3485 12.5436 37.2679 16.9992 37.2679C19.2054 37.2679 21.39 36.7967 23.4283 35.8811C25.4666 34.9656 27.3186 33.6237 28.8786 31.932C30.4386 30.2403 31.6761 28.232 32.5204 26.0217C33.3647 23.8114 33.7992 21.4425 33.7992 19.0501C33.7992 16.6577 33.3647 14.2887 32.5204 12.0784C31.6761 9.86814 30.4386 7.85983 28.8786 6.16815C27.3186 4.47647 25.4666 3.13455 23.4283 2.21902C21.39 1.30349 19.2054 0.832275 16.9992 0.832275ZM25.7492 26.4302C25.7492 27.5897 24.8742 28.5385 23.805 28.5385H10.1935C9.12422 28.5385 8.24922 27.5897 8.24922 26.4302V11.67C8.24922 10.5105 9.12422 9.56164 10.1935 9.56164H23.805C24.8742 9.56164 25.7492 10.5105 25.7492 11.67V26.4302Z" fill="#F4EFE8"/></svg>',
		],
		'linkedin' => [
			'url' => get_field( 'socials_linkedin', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 13 13" fill="none"><path d="M2.73438 12.6904H0.191406V4.51465H2.73438V12.6904ZM1.44922 3.4209C0.65625 3.4209 0 2.7373 0 1.91699C0 1.12402 0.65625 0.467773 1.44922 0.467773C2.26953 0.467773 2.92578 1.12402 2.92578 1.91699C2.92578 2.7373 2.26953 3.4209 1.44922 3.4209ZM9.70703 12.6904V8.72559C9.70703 7.76855 9.67969 6.56543 8.36719 6.56543C7.05469 6.56543 6.86328 7.57715 6.86328 8.64355V12.6904H4.32031V4.51465H6.75391V5.63574H6.78125C7.13672 5.00684 7.95703 4.32324 9.1875 4.32324C11.7578 4.32324 12.25 6.01855 12.25 8.20605V12.6904H9.70703Z" fill="#0E324A"/></svg>',
		],
	];

	$html = '<div class="social-links" style="display: flex; flex-direction:row; gap: 30px;">';

	foreach ( $socials as $platform => $social_data ) :
		if ( $social_data['url'] ) :
			$html .= sprintf(
				'<a href="%s" target="_blank" rel="noopener noreferrer" class="social-link social-link--%s">%s</a>',
				esc_url( $social_data['url'] ),
				esc_attr( $platform ),
				$social_data['svg']
				//ucfirst( $platform )
			);
		endif;
	endforeach;

	$html .= '</div>';

	echo $html;

}

add_action( 'socials', 'theme_socials' );
