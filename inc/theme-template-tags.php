<?php

/**
 * This function open the main content.
 */
function theme_before_main_content() {
	?>
	<main id="main-content" class="main-content overflow-hidden mt-auto">
	<?php
}

add_action( 'before_main_content', 'theme_before_main_content' );

/**
 * This function closes the main content.
 */
function theme_after_main_content() {
	?>
	</main><!-- #main-content-->
	<?php
}

add_action( 'after_main_content', 'theme_after_main_content' );

/**
 * This function open the post content.
 */
function theme_before_post_content() {
	?>
	<article id="post-<?php the_ID(); ?>" <?php post_class(); ?>>
	<?php
}

add_action( 'before_post_content', 'theme_before_post_content' );

/**
 * This function closes the post content.
 */
function theme_after_post_content() {
	?>
	</article><!-- #article -->
	<?php
}

add_action( 'after_post_content', 'theme_after_post_content' );

/**
 * This function gest the rooms features.
 */
function theme_room_features() {
	if ( have_rows( 'features' ) ) :
		echo '<ul class="features">';
		while ( have_rows( 'features' ) ) :
			the_row();
			?>
			<li id="feature-item">
				<?php
				$fields = [
					'bed'      => __( 'Bett:', 'carina' ),
					'size'     => __( 'FlÃ¤che:', 'carina' ),
					'capacity' => __( 'Belegung:', 'carina' ),
					'view'     => __( 'Aussicht:', 'carina' ),
				];
				foreach ( $fields as $field_key => $label ) :
					$field_value = get_sub_field( $field_key );
					if ( $field_value ) :
						?>
						<p class="font-poppins font-normal text-sm text-blue-shade-5 tracking-[0.14px]">
							<span class="font-bold"><?php echo $label; ?></span> <?php echo esc_html( $field_value ); ?>
						</p>
						<?php
					endif;
				endforeach;
				?>
			</li>
			<?php
		endwhile;
		echo '</ul>';
	endif;
}

add_action( 'room_features', 'theme_room_features' );

/**
 * This theme logo.
 */
function theme_logo() {
	?>
	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 164 43" fill="none" xml:space="preserve" class="w-full max-w-28 md:max-w-56">
		<path d="M126.219 41.9649V23.4227C126.219 17.0141 122.476 13.0452 116.466 13.0452C110.456 13.0452 107.223 16.8456 106.034 22.5706V13.6122H99.3983V41.9649H106.034V26.0892C106.487 19.7389 109.436 15.0312 114.03 15.0312C117.432 15.0312 119.645 17.2992 119.645 21.78V41.9681H126.222L126.219 41.9649ZM95.3743 3.85993C95.3743 1.76044 93.8418 0.00439453 91.4604 0.00439453C89.0791 0.00439453 87.6049 1.76368 87.6049 3.85993C87.6049 5.95617 89.1374 7.71546 91.4604 7.71546C93.7835 7.71546 95.3743 5.95617 95.3743 3.85993ZM85.3985 13.732C80.0331 14.3897 77.2338 18.1222 76.1549 23.1538V13.6122H69.5195V41.9649H76.1549V28.882C76.1549 21.5403 78.5363 15.2192 85.3985 14.312V13.732ZM94.8073 13.6122H88.1719V41.9649H94.8073V13.6122Z" fill="#F0F2F5"></path>
		<path d="M54.3796 12.8862C49.4192 12.8862 45.7451 14.6423 43.6975 17.9049L43.704 17.9146L44.1835 18.2321C45.9298 15.4231 48.8296 13.9068 52.2801 13.9068C57.6098 13.9068 59.7093 17.1403 59.7093 23.037V25.7585C47.5174 26.724 40.4316 30.126 40.4316 36.1361C40.4316 39.4829 42.6996 42.3729 47.5757 42.3729C51.5997 42.3729 55.533 40.6072 57.9111 36.6382V35.2418C56.3203 38.1254 53.9098 39.4797 51.658 39.4797C48.7097 39.4797 47.0638 37.7787 47.0638 34.8854C47.0638 29.8376 51.8848 26.9476 59.7093 26.2089V27.061C59.7093 27.871 59.7093 31.1109 59.7093 31.1109L60.8951 33.3691L65.7226 42.5317H66.2896V25.0198C66.2896 17.0236 61.8671 12.8862 54.3828 12.8862" fill="#F0F2F5"></path><path d="M142.534 12.8862C137.574 12.8862 133.899 14.6423 131.852 17.9049L131.858 17.9146L132.338 18.2321C134.084 15.4231 136.984 13.9068 140.434 13.9068C145.764 13.9068 147.864 17.1403 147.864 23.037V25.7585C135.672 26.724 128.586 30.126 128.586 36.1361C128.586 39.4829 130.854 42.3729 135.73 42.3729C139.754 42.3729 143.687 40.6072 146.065 36.6382V35.2418C144.475 38.1254 142.064 39.4797 139.812 39.4797C136.864 39.4797 135.218 37.7787 135.218 34.8854C135.218 29.8376 140.039 26.9476 147.864 26.2089V27.061C147.864 27.871 147.864 31.1109 147.864 31.1109L149.049 33.3691L153.877 42.5317H154.444V25.0198C154.444 17.0236 150.021 12.8862 142.537 12.8862" fill="#F0F2F5"></path><path d="M21.7173 42.5323C30.7892 42.5323 38.2929 37.4844 39.4269 25.5226H38.8599C37.781 36.6939 31.0743 41.3432 23.6451 41.3432C14.1747 41.3432 7.76938 33.347 7.76938 21.8387C7.76938 10.3305 14.0192 2.78788 23.4896 2.78788C31.0872 2.78788 38.4646 8.68458 38.8631 19.5708H39.4301C39.0899 8.23099 31.7126 1.70898 21.4484 1.70898C9.25651 1.70898 0 10.554 0 22.1789C0 34.8795 10.4326 42.5355 21.7173 42.5355" fill="#F0F2F5"></path>
		<path d="M158.154 7.18398C156.317 7.18398 154.827 5.6936 154.827 3.85656C154.827 2.01951 156.317 0.529134 158.154 0.529134C159.991 0.529134 161.482 2.01951 161.482 3.85656C161.482 5.6936 159.991 7.18398 158.154 7.18398ZM158.154 0.0107422C156.032 0.0107422 154.309 1.73115 154.309 3.85656C154.309 5.98196 156.029 7.70237 158.154 7.70237C160.28 7.70237 162 5.98196 162 3.85656C162 1.73115 160.28 0.0107422 158.154 0.0107422Z" fill="#F0F2F5"></path><path d="M157.412 5.56728L159.722 2.19774V1.81543H156.761V2.31762H158.99L156.689 5.6742V6.06948H159.813V5.56728H157.412Z" fill="#F0F2F5"></path>
	</svg>
	<?php
}

add_action( 'theme_logo', 'theme_logo' );

/**
 * This theme logo for mobile.
 */
function theme_logo_mobile() {
	?>
	<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="418.7" height="499.1" fill="#0cc" viewBox="0 0 418.7 499.1"><path d="m178.1.1-34.4 206.6H95.2l2.2-13.7c-11.5 11.5-25.8 17.9-42.6 17.9-36.1 0-61.3-29.1-53.5-76.7 7-42.5 38.4-68.9 71.4-68.9 21.6 0 35.8 9.8 43.4 21.6L129.5.1h48.6zm-73.6 153.7 5.6-31.9c-4.8-10.4-13.4-15.1-24.6-15.1-16.8 0-31.4 11.2-34.7 31.6-3.1 17.1 3.4 30.8 22.4 30.8 11.4 0 22.6-5.1 31.3-15.4zM217.3 206.9h-48.4L193 69.7h48.4l-24.1 137.2zM197.1 23.5C199.4 10.4 211.7 0 226 0c17.9 0 29.4 14 26.3 31.1-2.5 13.4-14.8 23.8-29.1 23.8-17.7 0-29.2-14-26.1-31.4zM418.7 69.7l-22.4 127.4c-8.4 47.3-38.9 70-90.1 70-26.3 0-46.8-6.2-62.2-13.1l16.5-38.6c13.2 8.4 29.7 10.9 41.7 10.9 26.9 0 42.5-12.6 46.2-33l.6-3.6c-11.8 11.5-26 18.2-42.8 18.2-36.4 0-61.9-29.1-53.5-75 7-40.9 38.4-67.2 71.4-67.2 20.7 0 35.3 9.2 43.1 21.3l3.1-17.1h48.4zm-63.2 82.6 5.6-30.5c-4.5-10.1-13.7-14.8-24.6-14.8-17.1 0-30.5 10.9-34.4 28.8-3.1 15.1 2.8 30.2 23.2 30.2 10.6 0 21.5-4.2 30.2-13.7zM165.5 494.9h-48.4l24.1-137.2h48.4l-24.1 137.2zm-20.2-183.4c2.2-13.2 14.6-23.5 28.8-23.5 17.9 0 29.4 14 26.3 31.1-2.5 13.4-14.8 23.8-29.1 23.8-17.6 0-29.1-14-26-31.4zM377.3 298.9l-34.4 196h-48.4l2.2-13.7c-11.5 11.5-25.8 17.9-42.6 17.9-36.1 0-61.3-29.1-53.5-76.7 7-42.5 38.4-68.9 71.4-68.9 21.6 0 35.8 9.8 43.4 21.6l13.4-76.1h48.5zM303.7 442l5.6-31.9c-4.8-10.4-13.4-15.1-24.6-15.1-16.8 0-31.4 11.2-34.7 31.6-3.1 17.1 3.4 30.8 22.4 30.8 11.4 0 22.6-5.1 31.3-15.4zM36.3 494.9l10-54.9h55.3l-9.7 54.9z"></path></svg>
	<?php
}

add_action( 'theme_logo_mobile', 'theme_logo_mobile' );

/**
 * Implement and customize Yoast Breadcrumbs.
 */
function theme_breadcrumbs() {
	if ( function_exists( 'yoast_breadcrumb' ) ) :
		yoast_breadcrumb( '<p id="breadcrumbs">', '</p>' );
	endif;
}

add_action( 'breadcrumbs', 'theme_breadcrumbs' );


/**
 * Socials for the website.
 */
function theme_socials() {

	$socials = [
		'facebook' => [
			'url' => get_field( 'socials_facebook', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M240 363.3L240 576L356 576L356 363.3L442.5 363.3L460.5 265.5L356 265.5L356 230.9C356 179.2 376.3 159.4 428.7 159.4C445 159.4 458.1 159.8 465.7 160.6L465.7 71.9C451.4 68 416.4 64 396.2 64C289.3 64 240 114.5 240 223.4L240 265.5L174 265.5L174 363.3L240 363.3z"/></svg>',
		],
		'twitter' => [
			'url' => get_field( 'socials_twitter', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M523.4 215.7C523.7 220.2 523.7 224.8 523.7 229.3C523.7 368 418.1 527.9 225.1 527.9C165.6 527.9 110.4 510.7 64 480.8C72.4 481.8 80.6 482.1 89.3 482.1C138.4 482.1 183.5 465.5 219.6 437.3C173.5 436.3 134.8 406.1 121.5 364.5C128 365.5 134.5 366.1 141.3 366.1C150.7 366.1 160.1 364.8 168.9 362.5C120.8 352.8 84.8 310.5 84.8 259.5L84.8 258.2C98.8 266 115 270.9 132.2 271.5C103.9 252.7 85.4 220.5 85.4 184.1C85.4 164.6 90.6 146.7 99.7 131.1C151.4 194.8 229 236.4 316.1 240.9C314.5 233.1 313.5 225 313.5 216.9C313.5 159.1 360.3 112 418.4 112C448.6 112 475.9 124.7 495.1 145.1C518.8 140.6 541.6 131.8 561.7 119.8C553.9 144.2 537.3 164.6 515.6 177.6C536.7 175.3 557.2 169.5 576 161.4C561.7 182.2 543.8 200.7 523.4 215.7z"/></svg>',
		],
		'x' => [
			'url' => get_field( 'socials_x', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M453.2 112L523.8 112L369.6 288.2L551 528L409 528L297.7 382.6L170.5 528L99.8 528L264.7 339.5L90.8 112L236.4 112L336.9 244.9L453.2 112zM428.4 485.8L467.5 485.8L215.1 152L173.1 152L428.4 485.8z"/></svg>',
		],
		'instagram' => [
			'url' => get_field( 'socials_instagram', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M320.3 205C256.8 204.8 205.2 256.2 205 319.7C204.8 383.2 256.2 434.8 319.7 435C383.2 435.2 434.8 383.8 435 320.3C435.2 256.8 383.8 205.2 320.3 205zM319.7 245.4C360.9 245.2 394.4 278.5 394.6 319.7C394.8 360.9 361.5 394.4 320.3 394.6C279.1 394.8 245.6 361.5 245.4 320.3C245.2 279.1 278.5 245.6 319.7 245.4zM413.1 200.3C413.1 185.5 425.1 173.5 439.9 173.5C454.7 173.5 466.7 185.5 466.7 200.3C466.7 215.1 454.7 227.1 439.9 227.1C425.1 227.1 413.1 215.1 413.1 200.3zM542.8 227.5C541.1 191.6 532.9 159.8 506.6 133.6C480.4 107.4 448.6 99.2 412.7 97.4C375.7 95.3 264.8 95.3 227.8 97.4C192 99.1 160.2 107.3 133.9 133.5C107.6 159.7 99.5 191.5 97.7 227.4C95.6 264.4 95.6 375.3 97.7 412.3C99.4 448.2 107.6 480 133.9 506.2C160.2 532.4 191.9 540.6 227.8 542.4C264.8 544.5 375.7 544.5 412.7 542.4C448.6 540.7 480.4 532.5 506.6 506.2C532.8 480 541 448.2 542.8 412.3C544.9 375.3 544.9 264.5 542.8 227.5zM495 452C487.2 471.6 472.1 486.7 452.4 494.6C422.9 506.3 352.9 503.6 320.3 503.6C287.7 503.6 217.6 506.2 188.2 494.6C168.6 486.8 153.5 471.7 145.6 452C133.9 422.5 136.6 352.5 136.6 319.9C136.6 287.3 134 217.2 145.6 187.8C153.4 168.2 168.5 153.1 188.2 145.2C217.7 133.5 287.7 136.2 320.3 136.2C352.9 136.2 423 133.6 452.4 145.2C472 153 487.1 168.1 495 187.8C506.7 217.3 504 287.3 504 319.9C504 352.5 506.7 422.6 495 452z"/></svg>',
		],
		'linkedin' => [
			'url' => get_field( 'socials_linkedin', 'options' ),
			'svg' => '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M196.3 512L103.4 512L103.4 212.9L196.3 212.9L196.3 512zM149.8 172.1C120.1 172.1 96 147.5 96 117.8C96 103.5 101.7 89.9 111.8 79.8C121.9 69.7 135.6 64 149.8 64C164 64 177.7 69.7 187.8 79.8C197.9 89.9 203.6 103.6 203.6 117.8C203.6 147.5 179.5 172.1 149.8 172.1zM543.9 512L451.2 512L451.2 366.4C451.2 331.7 450.5 287.2 402.9 287.2C354.6 287.2 347.2 324.9 347.2 363.9L347.2 512L254.4 512L254.4 212.9L343.5 212.9L343.5 253.7L344.8 253.7C357.2 230.2 387.5 205.4 432.7 205.4C526.7 205.4 544 267.3 544 347.7L544 512L543.9 512z"/></svg>',
		],
	];

	$html = '<div class="social-links">';

	foreach ( $socials as $platform => $social_data ) :
		if ( $social_data['url'] ) :
			$html .= sprintf(
				'<a href="%s" target="_blank" rel="noopener noreferrer" class="social-link social-link--%s">%s</a>',
				esc_url( $social_data['url'] ),
				esc_attr( $platform ),
				$social_data['svg']
				//ucfirst( $platform )
			);
		endif;
	endforeach;

	$html .= '</div>';

	echo $html;

}

add_action( 'socials', 'theme_socials' );
